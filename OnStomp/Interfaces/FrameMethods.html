<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module: OnStomp::Interfaces::FrameMethods</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (F)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../OnStomp.html" title="OnStomp (module)">OnStomp</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Interfaces.html" title="OnStomp::Interfaces (module)">Interfaces</a></span></span>
     &raquo; 
    <span class="title">FrameMethods</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: OnStomp::Interfaces::FrameMethods
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Client.html" title="OnStomp::Client (class)">Client</a></span>, <span class='object_link'><a href="../Components/Scopes/HeaderScope.html" title="OnStomp::Components::Scopes::HeaderScope (class)">Components::Scopes::HeaderScope</a></span>, <span class='object_link'><a href="../Components/Scopes/ReceiptScope.html" title="OnStomp::Components::Scopes::ReceiptScope (class)">Components::Scopes::ReceiptScope</a></span>, <span class='object_link'><a href="../Components/Scopes/TransactionScope.html" title="OnStomp::Components::Scopes::TransactionScope (class)">Components::Scopes::TransactionScope</a></span>, <span class='object_link'><a href="../Failover/Client.html" title="OnStomp::Failover::Client (class)">Failover::Client</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/onstomp/interfaces/frame_methods.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Mixin for <span class='object_link'><a href="../Client.html" title="OnStomp::Client (class)">clients</a></span> to provide methods that create and
transmit STOMP <span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">frames</a></span>.
</p>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abort-instance_method" title="#abort (instance method)">- (OnStomp::Components::Frame) <strong>abort</strong>(tx_id, headers = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits an ABORT frame generated by the client&#8217;s connection to
rollback a transaction.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ack-instance_method" title="#ack (instance method)">- (OnStomp::Components::Frame) <strong>ack</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits an ACK frame generated by the client&#8217;s connection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#beat-instance_method" title="#beat (instance method)">- (OnStomp::Components::Frame) <strong>beat</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a client heartbeat frame generated by the client&#8217;s
connection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#begin-instance_method" title="#begin (instance method)">- (OnStomp::Components::Frame) <strong>begin</strong>(tx_id, headers = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a BEGIN frame generated by the client&#8217;s connection to start
a transaction.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit-instance_method" title="#commit (instance method)">- (OnStomp::Components::Frame) <strong>commit</strong>(tx_id, headers = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a COMMIT frame generated by the client&#8217;s connection to
complete a transaction.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disconnect-instance_method" title="#disconnect (instance method)">- (OnStomp::Components::Frame) <strong>disconnect</strong>(headers = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a DISCONNECT frame generated by the client&#8217;s connection to
end the STOMP session.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nack-instance_method" title="#nack (instance method)">- (OnStomp::Components::Frame) <strong>nack</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a NACK frame generated by the client&#8217;s connection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send-instance_method" title="#send (instance method)">- (OnStomp::Components::Frame) <strong>send</strong>(dest, body, headers = {}) {|receipt| ... }</a>
    

    
      (also: #puts)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a SEND frame generated by the client&#8217;s connection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subscribe-instance_method" title="#subscribe (instance method)">- (OnStomp::Components::Frame) <strong>subscribe</strong>(dest, headers = {}) {|message| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits a SUBSCRIBE frame generated by the client&#8217;s connection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unsubscribe-instance_method" title="#unsubscribe (instance method)">- (OnStomp::Components::Frame) <strong>unsubscribe</strong>(frame_or_id, headers = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Transmits an UNSUBSCRIBE frame generated by the client&#8217;s connection.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="abort-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>abort</strong>(tx_id, headers = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits an ABORT frame generated by the client&#8217;s connection to
rollback a transaction.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>tx_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
identifier for the transaction
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
ABORT frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support ABORT
frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#begin-instance_method" title="OnStomp::Interfaces::FrameMethods#begin (method)">#begin</a></span></li>
    
      <li><span class='object_link'><a href="#commit-instance_method" title="OnStomp::Interfaces::FrameMethods#commit (method)">#commit</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 100</span>

<span class='kw'>def</span> <span class='id abort'>abort</span> <span class='id tx_id'>tx_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id abort_frame'>abort_frame</span><span class='lparen'>(</span><span class='id tx_id'>tx_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ack-instance_method">
  
    
      <span class="overload">- (<tt>Object</tt>) <strong>ack</strong>(message_frame, headers = {}) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>ack</strong>(message_id, headers = {}) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>ack</strong>(message_id, subscription_id, heders = {}) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits an ACK frame generated by the client&#8217;s connection.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>ack</strong>(message_frame, headers = {}) </span>
        <div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong> 
    <div class='inline'><p>
Users should use this form whenever possible as it will work with STOMP 1.0
and 1.1 connections.
</p>
</div>
  </div>



  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
        <span class='name'>message_frame</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the MESSAGE frame to acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>ack</strong>(message_id, headers = {}) </span>
        <div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong> 
    <div class='inline'><p>
This form will raise an <tt>ArgumentError</tt> with STOMP 1.1 connections
as a subscription ID is also required to ACK a received MESSAGE.
</p>
</div>
  </div>



  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>message_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
<tt>message-id</tt> header of MESSAGE frame to acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>ack</strong>(message_id, subscription_id, heders = {}) </span>
        <div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong> 
    <div class='inline'><p>
This form should be used with STOMP 1.1 connections when it is not possible
to provide the actual MESSAGE frame.
</p>
</div>
  </div>



  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>message_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
<tt>message-id</tt> header of MESSAGE frame to acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>subscription_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
<tt>subscription</tt> header of MESSAGE frame to acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
ACK frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support ACK
frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#nack-instance_method" title="OnStomp::Interfaces::FrameMethods#nack (method)">#nack</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 157</span>

<span class='kw'>def</span> <span class='id ack'>ack</span> <span class='op'>*</span><span class='id args'>args</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id ack_frame'>ack_frame</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="beat-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>beat</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a client heartbeat frame generated by the client&#8217;s
connection.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
heartbeat frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support
heartbeat frames
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 187</span>

<span class='kw'>def</span> <span class='id beat'>beat</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id heartbeat_frame'>heartbeat_frame</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="begin-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>begin</strong>(tx_id, headers = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a BEGIN frame generated by the client&#8217;s connection to start
a transaction.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>tx_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
identifier for the transaction
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
BEGIN frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support BEGIN
frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#abort-instance_method" title="OnStomp::Interfaces::FrameMethods#abort (method)">#abort</a></span></li>
    
      <li><span class='object_link'><a href="#commit-instance_method" title="OnStomp::Interfaces::FrameMethods#commit (method)">#commit</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 86</span>

<span class='kw'>def</span> <span class='kw'>begin</span> <span class='id tx_id'>tx_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id begin_frame'>begin_frame</span><span class='lparen'>(</span><span class='id tx_id'>tx_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="commit-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>commit</strong>(tx_id, headers = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a COMMIT frame generated by the client&#8217;s connection to
complete a transaction.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>tx_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
identifier for the transaction
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
COMMIT frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support COMMIT
frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#abort-instance_method" title="OnStomp::Interfaces::FrameMethods#abort (method)">#abort</a></span></li>
    
      <li><span class='object_link'><a href="#begin-instance_method" title="OnStomp::Interfaces::FrameMethods#begin (method)">#begin</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 114</span>

<span class='kw'>def</span> <span class='id commit'>commit</span> <span class='id tx_id'>tx_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id commit_frame'>commit_frame</span><span class='lparen'>(</span><span class='id tx_id'>tx_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="disconnect-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>disconnect</strong>(headers = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a DISCONNECT frame generated by the client&#8217;s connection to
end the STOMP session.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
DISCONNECT frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support
DISCONNECT frames
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 125</span>

<span class='kw'>def</span> <span class='id disconnect'>disconnect</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id disconnect_frame'>disconnect_frame</span> <span class='id headers'>headers</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="nack-instance_method">
  
    
      <span class="overload">- (<tt>Object</tt>) <strong>nack</strong>(message_frame, headers = {}) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>nack</strong>(message_id, subscription_id, heders = {}) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a NACK frame generated by the client&#8217;s connection.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>nack</strong>(message_frame, headers = {}) </span>
        <div class="docstring">
  <div class="discussion">
    <p>
Generates a NACK frame for the given MESSAGE frame.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
        <span class='name'>message_frame</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the MESSAGE frame to un-acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>nack</strong>(message_id, subscription_id, heders = {}) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>message_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
<tt>message-id</tt> header of MESSAGE frame to un-acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>subscription_id</span>
      
      
      
        &mdash;
        <div class='inline'><p>
<tt>subscription</tt> header of MESSAGE frame to un-acknowledge.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
NACK frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support NACK
frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#ack-instance_method" title="OnStomp::Interfaces::FrameMethods#ack (method)">#ack</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 179</span>

<span class='kw'>def</span> <span class='id nack'>nack</span> <span class='op'>*</span><span class='id args'>args</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id nack_frame'>nack_frame</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="send-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>send</strong>(dest, body, headers = {}) {|receipt| ... }
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='puts-instance_method'>puts</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a SEND frame generated by the client&#8217;s connection
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>dest</span>
      
      
      
        &mdash;
        <div class='inline'><p>
destination for the frame
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>body</span>
      
      
      
        &mdash;
        <div class='inline'><p>
body of the frame
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>receipt</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
block to invoke when a RECEIPT frame is received for the transmitted SEND
frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
        <span class='name'>receipt</span>
      
      
      
        &mdash;
        <div class='inline'><p>
RECEIPT for the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
SEND frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support SEND
frames
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 17</span>

<span class='kw'>def</span> <span class='id send'>send</span> <span class='id dest'>dest</span><span class='comma'>,</span> <span class='id body'>body</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id cb'>cb</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id send_frame'>send_frame</span><span class='lparen'>(</span><span class='id dest'>dest</span><span class='comma'>,</span> <span class='id body'>body</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:receipt</span> <span class='op'>=&gt;</span> <span class='id cb'>cb</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="subscribe-instance_method">
  
    - (<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>) <strong>subscribe</strong>(dest, headers = {}) {|message| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits a SUBSCRIBE frame generated by the client&#8217;s connection.
Depending upon the connection, a subscription can be set to various MESSAGE
acknowledgement modes by setting the <tt>:ack</tt> header. STOMP 1.0 and
STOMP 1.1 connections support:
</p>
<ul>
<li><p>
:ack => &#8216;auto&#8217; The broker assumes that MESSAGE frames received
through the subscription have been properly received, the client should NOT
attempt to ACK (or NACK) any of the messages.
</p>
</li>
<li><p>
:ack => &#8216;client&#8217; The broker assumes that MESSAGE frames should
be acknowledged by the client through the use of ACK frames.
</p>
</li>
</ul>
<p>
STOMP 1.1 connections support:
</p>
<ul>
<li><p>
:ack => &#8216;client-individual&#8217; Upon receiving an ACK frame for a
MESSAGE frame, some brokers will mark the MESSAGE frame and all those sent
to the client before it as acknowledged. This mode indicates that each
MESSAGE frame must be acknowledged by its own ACK frame for the broker can
assume the MESSAGE frame has been received by the client.
</p>
</li>
</ul>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>dest</span>
      
      
      
        &mdash;
        <div class='inline'><p>
destination for the frame
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
additional headers to include in the frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>message</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
block to invoke for every MESSAGE frame received on the subscription
</p>
</div>
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
        <span class='name'>message</span>
      
      
      
        &mdash;
        <div class='inline'><p>
MESSAGE frame received on the subscription
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
SUBSCRIBE frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support
SUBSCRIBE frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#unsubscribe-instance_method" title="OnStomp::Interfaces::FrameMethods#unsubscribe (method)">#unsubscribe</a></span></li>
    
      <li><span class='object_link'><a href="#ack-instance_method" title="OnStomp::Interfaces::FrameMethods#ack (method)">#ack</a></span></li>
    
      <li><span class='object_link'><a href="#nack-instance_method" title="OnStomp::Interfaces::FrameMethods#nack (method)">#nack</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 53</span>

<span class='kw'>def</span> <span class='id subscribe'>subscribe</span> <span class='id dest'>dest</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id cb'>cb</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id subscribe_frame'>subscribe_frame</span><span class='lparen'>(</span><span class='id dest'>dest</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:subscribe</span> <span class='op'>=&gt;</span> <span class='id cb'>cb</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="unsubscribe-instance_method">
  
    
      <span class="overload">- (<tt>Object</tt>) <strong>unsubscribe</strong>(subscribe_frame, headers = {}) </span>
    
      <span class="overload">- (<tt>Object</tt>) <strong>unsubscribe</strong>(id, headers = {}) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Transmits an UNSUBSCRIBE frame generated by the client&#8217;s connection.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>unsubscribe</strong>(subscribe_frame, headers = {}) </span>
        <div class="docstring">
  <div class="discussion">
    <p>
Generates an UNSUBSCRIBE frame to match the given SUBSCRIBE frame
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
        <span class='name'>subscribe_frame</span>
      
      
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
optional headers to include in the UNSUBSCRIBE frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt>Object</tt>) <strong>unsubscribe</strong>(id, headers = {}) </span>
        <div class="docstring">
  <div class="discussion">
    <p>
Generates an UNSUBSCRIBE frame with the given id
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>id</span>
      
      
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>{#to_sym =&gt; #to_s}</tt>)</span>
      
      
        <span class='name'>headers</span>
      
      
      
        &mdash;
        <div class='inline'><p>
optional headers to include in the UNSUBSCRIBE frame
</p>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Components/Frame.html" title="OnStomp::Components::Frame (class)">OnStomp::Components::Frame</a></span></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
UNSUBSCRIBE frame
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
OnStomp::UnsupportedCommandError if the connection does not support
UNSUBSCRIBE frames
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#subscribe-instance_method" title="OnStomp::Interfaces::FrameMethods#subscribe (method)">#subscribe</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/onstomp/interfaces/frame_methods.rb', line 72</span>

<span class='kw'>def</span> <span class='id unsubscribe'>unsubscribe</span> <span class='id frame_or_id'>frame_or_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id transmit'>transmit</span> <span class='id connection'>connection</span><span class='period'>.</span><span class='id unsubscribe_frame'>unsubscribe_frame</span><span class='lparen'>(</span><span class='id frame_or_id'>frame_or_id</span><span class='comma'>,</span> <span class='id headers'>headers</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Apr  4 14:12:05 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.5 (ruby-1.9.2).
</div>

  </body>
</html>